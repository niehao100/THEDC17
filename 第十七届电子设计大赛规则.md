# 第十七届电子设计大赛规则 #

## 赛题及规则
### 赛题

小车在给定赛道上竞速，赛道上有虚拟道具，经过赛道特定位置的小车将得到道具，使用道具可以对其他小车或者自己产生影响。小车需要妥善利用道具，尽可能使自己最先到达终点。

### 硬件实现
我们会在选手的电机驱动板和电机间加上由通信模块控制的中间驱动板，随时由上位机控制选手对电机的控制电压


## 基本规则 ##

* 只能前进
 * 在赛道上会标明前进方向，标记有两个方向的位置是允许车辆向两个方向行驶的
 * 前进与否根据车辆位移判断，因此可以倒车。
 * 行驶方向与赛道方向相反时，会有通信模块的警告，坐标位移在反方向的投影超过一个（样车）车长（由上位机判定）时，需由裁判手动复位并让车继续前进，给予时间惩罚。
* 不能离道
 * 小车坐标与赛道最短距离超过一个（样车）车长（上位机判定），即为离道。
 * 小车坐标在赛道外时，会有通信模块的警告，同时停发坐标信息。
 * 小车离道后，有裁判手动复位并给予时间惩罚
* 伤害禁止
 * 伤害指无法修复的损伤，如板子碎裂。
 * 允许碰撞。
 * 小车因受到其他小车的非道具的影响而无法移动时，比赛立刻中止，同时受到影响的小车开始调试，并开始下一场比赛。受影响小车恢复后与之前对手重赛。
 * 对于使用除车架碰撞以外方式造成伤害的小车，给予时间惩罚；若这种方式使其他小车无法移动，攻击小车判负。
 * 小车应有一定抗击打能力
* 长宽限制
 * 车长与车宽应不超过样车的车长与车宽。
 * 车长与车宽均为静止状态下测得的。
 
## 补充规则 ##

* 赛制（待讨论）
 *	一场比赛使用同一张地图，采用三局两胜或五局三胜制。
 *	决赛分小组单循环和淘汰赛两部分组成。
* 道具的获得和使用
 * 在赛道上的特定位置将设置随机道具。凡是经过此位置的车辆都可以获得道具。
 * 每辆车最多同时保留一个道具，后取得的道具将覆盖先取得的道具(FIFO)。
 * 道具分为两类，一类自动确定方向或者位置，另一类将使用本车前一段时间的位移方向为自身方向。通常第二类威力更大一些
 * 赛道上超过两辆小车，部分道具需要使用者选择目标ID，2表示第一名，1表示自身前方最近的小车，0表示自身后方最近的小车。
 * 道具使用有一定的延迟。
 * 车辆会受到自身被道具锁定的信息。
* 车辆改装
 * 允许使用任意电压的电池。
 * o	电源管理模块的最高输入电压为（样车组确定）
 * 组委会提供的主动车轮与电机与电源管理模块禁止改动。
* 赛道
 * 赛道每次比赛都会变化。
 * 比赛前将会公布赛道
 * 赛道边界为黑色，可利用红外线寻迹避免超出赛道
 * 赛道各段将有地形区别，可能是物理地形，也可能是不同电机参数
 * 车辆坐标离开赛道后，电源管理模块会强制减速。

## 道具种类 ##

道具包括防御类、陷阱类和攻击类。

* 防御类道具会防止自身被其他道具影响，有一定的时效。
* 陷阱类道具将留在跑道上，经过的车辆会触发道具效果，除非被触发，否则陷阱类道具将一直存在赛道上直到本场比赛结束。在淘汰赛中，陷阱类道具将一直存在在赛道上下一场比赛。
* 攻击类道具是即时的，将在一定延时后作用到目标。
* 道具效果包括防御、减速某一轮、全部减速、颠倒左右轮、以及停止。
* 所有道具产生的效果都由电源管理模块强制执行，与选手小车无关。
